---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "encrypt function - ghsecret"
subcategory: ""
description: |-
  Encrypt a plain text to be stored as a GitHub secret.
---

# function: encrypt

Encrypts a plain text to be stored as a GitHub secret. The data is encrypted using the
libsodium sealed box encryption scheme and the public key of a GitHub repository. The
encrypted data is then base64 encoded and returned as a string.

## Example Usage

```terraform
data "github_actions_public_key" "repo" {
  repository = "terraform-provider-ghsecret"
}

resource "github_actions_secret" "this" {
  repository  = "terraform-provider-ghsecret"
  secret_name = "EXAMPLE_SECRET"
  encrypted_value = provider::ghsecret::encrypt(
    "Hello, World!",
    data.github_actions_public_key.repo.key
  )
}

output "raw" {
  value = nonsensitive(github_actions_secret.this.encrypted_value)
}

# data "github_actions_public_key" "repo" {
#     id         = (sensitive value)
#     key        = (sensitive value)
#     key_id     = (sensitive value)
#     repository = "terraform-provider-ghsecret"
# }
#
# resource "github_actions_secret" "this" {
#     created_at      = "2024-12-04 22:27:42 +0000 UTC"
#     encrypted_value = (sensitive value)
#     id              = "terraform-provider-ghsecret:EXAMPLE_SECRET"
#     plaintext_value = (sensitive value)
#     repository      = "terraform-provider-ghsecret"
#     secret_name     = "EXAMPLE_SECRET"
#     updated_at      = "2024-12-04 22:27:42 +0000 UTC"
# }
#
# Outputs:
#
# raw = "23k/JkPJ..."
```

## Signature

<!-- signature generated by tfplugindocs -->
```text
encrypt(plaintext string, public_key string) string
```

## Arguments

<!-- arguments generated by tfplugindocs -->
1. `plaintext` (String) The plain text to encrypt.
1. `public_key` (String) The base64 encoded public key of the GitHub repository.

